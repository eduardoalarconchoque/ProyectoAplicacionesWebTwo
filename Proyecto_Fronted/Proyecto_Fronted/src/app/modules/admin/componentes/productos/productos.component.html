<mat-card class="product-form-card">
  <mat-card-header>
    <mat-card-title>Nuevo Producto</mat-card-title>
  </mat-card-header>
  <mat-divider></mat-divider>

  <mat-card-content>
    <form [formGroup]="postProductForm" (ngSubmit)="postProduct()" enctype="multipart/form-data" class="product-form">

      <div class="form-fields">
        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Nombre</mat-label>
          <input matInput formControlName="nombre" placeholder="Nombre del producto">
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Descripción</mat-label>
          <textarea matInput formControlName="descripcion" placeholder="Descripción del producto"></textarea>
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Precio</mat-label>
          <input matInput type="number" formControlName="precio" placeholder="Precio en soles">
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Stock</mat-label>
          <input matInput type="number" formControlName="stock" placeholder="Cantidad disponible">
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Categoría</mat-label>
          <mat-select formControlName="categoriaId" (selectionChange)="onCategoriaChange($event.value)">
            <mat-option *ngFor="let c of listaCategorias" [value]="c.id">{{ c.nombre }}</mat-option>
          </mat-select>
        </mat-form-field>

        <div class="file-upload">
          <label class="file-label">Seleccionar Imagen</label>
          <input type="file" (change)="onFileSelected($event)" class="file-input">
        </div>

        <div *ngIf="imagePreview" class="image-preview-container">
          <img [src]="imagePreview" alt="Vista previa" class="image-preview">
        </div>
      </div>

      <div class="submit-button-container">
        <button mat-fab color="primary" type="submit" [disabled]="postProductForm.invalid">
          <mat-icon>check</mat-icon>
        </button>
      </div>

    </form>
  </mat-card-content>
</mat-card>


